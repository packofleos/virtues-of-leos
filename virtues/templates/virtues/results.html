{% extends 'virtues/base.html' %}

{% block content %}
    <table class="leaderboard">
        <tr>
            <th>Rank</th><th>Name</th><th>Score</th>
            {% for user, score in leaderboard.items %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ user }} [{{ user.title_set.all|first }}]</td>
                    <td>{{ score }}</td>
                </tr>
            {% endfor %}
        </tr>
    </table>
    <div class="task-leaderboards">
        {% for task, record in per_task.items %}
            <div>
                <table>
                    <tr>
                        <th>Rank</th><th>Name</th><th>{{ task }}</th>
                    </tr>
                    {% for user, score in record.items %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ user }}</td>
                            <td>{{ score }}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        {% endfor %}
    </div>
{% endblock %}